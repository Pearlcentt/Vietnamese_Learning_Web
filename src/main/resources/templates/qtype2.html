<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <title>Fill in the Blank</title>
  <link rel="stylesheet" th:href="@{/css/verb.css}" />
  <style>
    .sentence-part2 {
      border-bottom: 2px solid #666;
      min-width: 80px;
      display: inline-block;
      text-align: center;
      margin: 0 5px;
      padding: 0 10px;
      min-height: 1.2em;
    }
    .Fill-box {
      cursor: pointer;
      transition: background-color 0.2s;
    }
    .Fill-box:hover {
      background-color: #eee;
    }
  </style>
</head>
<body>
<div class="question-bg">
  <div class="col-top">
    <div class="progress-section">
      <div class="quit">Quit</div>
      <div class="progress-bar"><div class="progress-fill"></div></div>
      <div class="notify-done">Done</div>
    </div>
  </div>
  <div class="col-bot">
    <div class="col-mid">      <div class="main-question">
        <div class="Guidance">Fill in the blank!</div>        <div class="cartoon-telling">
          <div class="cartoon-image"><img th:src="@{/images/fill.png}" /></div>          <div class="sentence-box" th:if="${questions != null and !questions.isEmpty()}" 
               th:data-question="${questions[0].question != null ? questions[0].question : 'Default question'}">
            <th:block th:if="${questions[0].question != null and #strings.contains(questions[0].question, '_____')}">
              <span class="sentence-part1" th:text="${#strings.substringBefore(questions[0].question, '_____')}">Part 1</span>
              <span class="sentence-part2">_____</span>
              <span class="sentence-part3" th:text="${#strings.substringAfter(questions[0].question, '_____')}">Part 3</span>
            </th:block>
            <th:block th:unless="${questions[0].question != null and #strings.contains(questions[0].question, '_____')}">
              <span class="sentence-part1" th:text="${questions[0].question != null ? questions[0].question : 'Loading...'}">Loading</span>
            </th:block>
          </div>
          <div class="sentence-box" th:unless="${questions != null and !questions.isEmpty()}" th:data-question="Default question">
            <span class="sentence-part1">Loading...</span>
          </div>
        </div>        <div class="Fills">
          <th:block th:if="${questions != null and !questions.isEmpty() and questions[0].choices != null}">
            <div class="Fill-box" th:each="choice : ${questions[0].choices}">
              <div class="Fill-word" th:text="${choice != null ? choice : 'Option'}">Word</div>
            </div>
          </th:block>
          <th:block th:unless="${questions != null and !questions.isEmpty() and questions[0].choices != null}">
            <div class="Fill-box">
              <div class="Fill-word">Loading...</div>
            </div>
          </th:block>
        </div>
      </div>
      <div class="Submit-section">
        <div class="Ignore">Ignore</div>
        <div class="tick-icon"><img th:src="@{/images/tick.png}" /></div>
        <div class="error-icon"><img th:src="@{/images/error.png}" /></div>
        <p class="result-message">Correct!</p>
        <div class="Check">Check</div>
      </div>
    </div>  </div>
</div>
<script th:inline="javascript">
  window.questionData = {
    answer: /*[[${questions != null and !questions.isEmpty() and questions[0].answer != null ? questions[0].answer : 'defaultAnswer'}]]*/ 'defaultAnswer'
  };
</script>
<script th:src="@{/js/choose-2.js}" defer></script>
<script th:src="@{/js/answer.js}" defer></script>
<script th:src="@{/js/progress.js}" defer></script>
</body>
</html>
